<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestros Productos - Sublimarce</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Colores para modo claro (predeterminados o extendidos)
                        'light-primary': '#007BFF', // Azul para títulos (cambiado)
                        'light-secondary': '#4ECDC4',
                        'light-text': '#333333',
                        'light-bg': '#fdfdfd',
                        'light-bg-alt': '#f0f0f0',
                        'light-card-bg': '#ffffff',
                        // Colores para modo oscuro
                        'dark-primary': '#A05CF0', // Violeta para títulos
                        'dark-secondary': '#8E7AF7',
                        'dark-text': '#E0BBE4', // Lila claro para texto
                        'dark-bg': '#1E1B29',
                        'dark-bg-alt': '#2C283E',
                        'dark-card-bg': '#3B344D',
                    }
                },
                fontFamily: {
                    sans: ['Poppins', 'sans-serif'],
                },
            },
            darkMode: 'class', // Habilitar modo oscuro basado en clase
        }
    </script>
    <style type="text/tailwindcss">
        @layer components {
            /* Estilos base y generales (copiados de otros archivos para consistencia) */
            body {
                @apply bg-light-bg text-light-text transition-colors duration-300 ease-in-out;
                line-height: 1.7;
            }

            body.dark {
                @apply bg-dark-bg text-dark-text;
            }

            /* Encabezado */
            #main-header,
            #cart-header, /* Estilo general para headers */
            #account-header {
                @apply fixed top-0 left-0 w-full z-50 shadow-lg transition-colors duration-300 ease-in-out;
                background: rgba(253, 253, 253, 0.9);
                backdrop-filter: blur(5px);
            }

            body.dark #main-header,
            body.dark #cart-header,
            body.dark #account-header {
                background: rgba(30, 27, 41, 0.9);
            }

            #logo a {
                @apply text-2xl font-bold text-light-text transition-colors duration-300 ease-in-out;
            }

            body.dark #logo a {
                @apply text-dark-text;
            }

            #logo a:hover {
                @apply text-light-primary;
            }

            body.dark #logo a:hover {
                @apply text-dark-primary;
            }

            /* Estilos para los enlaces de navegación */
            #main-header nav ul li a {
                @apply text-light-text font-semibold py-2 px-3 rounded-md transition-colors duration-300 ease-in-out lg:px-4;
            }


            body.dark #main-header nav ul li a {
                @apply text-dark-text;
            }

            #main-header nav ul li a:hover,
            #main-header nav ul li a.active {
                @apply text-light-primary;
            }

            body.dark #main-header nav ul li a:hover,
            body.dark #main-header nav ul li a.active {
                @apply text-dark-primary;
            }

            #darkModeToggle {
                @apply bg-transparent border-none text-light-text text-2xl cursor-pointer p-2 transition-colors duration-300 ease-in-out;
            }

            body.dark #darkModeToggle {
                @apply text-dark-text;
            }

            #darkModeToggle:hover {
                @apply text-light-primary;
            }

            body.dark #darkModeToggle:hover {
                @apply text-dark-primary;
            }

            /* Secciones y títulos */
            .section-title {
                @apply text-3xl font-bold mb-8 text-light-primary sm:text-4xl;
            }

            body.dark .section-title {
                @apply text-dark-primary;
            }

            .section-subtitle {
                 @apply text-2xl font-bold mb-6 text-light-primary dark:text-dark-primary;
            }

             /* Tarjetas de Producto (Estilo base) */
            .product-card {
                @apply bg-light-card-bg rounded-lg p-6 shadow-lg transition-all duration-300 ease-in-out text-left flex flex-col;
            }

            .product-card:hover {
                @apply transform -translate-y-2 shadow-xl;
            }

            body.dark .product-card {
                @apply bg-dark-card-bg;
            }

            .product-card img {
                @apply w-full h-48 object-cover rounded-md mb-4; /* Adjusted image height */
            }

            .product-card h3 {
                /* Título del producto en la tarjeta */
                @apply text-xl font-semibold mb-2 text-light-primary;
            }

            body.dark .product-card h3 {
                @apply text-dark-primary;
            }

            .product-card p {
                /* Descripción del producto */
                @apply text-sm mb-4 text-light-text opacity-90 flex-grow; /* Added flex-grow */
            }

            body.dark .product-card p {
                @apply text-dark-text;
            }

            .product-card .precio {
                @apply font-semibold text-lg text-light-secondary mb-4;
            }

            body.dark .product-card .precio {
                @apply text-dark-secondary;
            }

            .btn-consultar {
                @apply inline-block bg-light-secondary text-white py-2 px-5 rounded-full font-semibold transition-all duration-300 ease-in-out text-center;
            }

            .btn-consultar:hover {
                @apply bg-light-primary;
            }

            body.dark .btn-consultar {
                @apply bg-dark-secondary;
            }

            body.dark .btn-consultar:hover {
                @apply bg-dark-primary;
            }


             /* Footer */
            footer {
                @apply bg-light-bg-alt text-light-text py-12 text-center;
            }

            body.dark footer {
                @apply bg-dark-bg-alt text-dark-text;
            }

            .contact-info p i {
                @apply text-light-primary mr-2;
            }

            body.dark .contact-info p i {
                @apply text-dark-primary;
            }

            .contact-info a {
                @apply text-light-text transition-colors duration-300 ease-in-out;
            }

            body.dark .contact-info a {
                @apply text-dark-text;
            }

            .contact-info a:hover {
                @apply text-light-primary;
            }

            body.dark .contact-info a:hover {
                @apply text-dark-primary;
            }

            .social-media a {
                @apply text-light-text text-2xl mx-3 transition-all duration-300 ease-in-out;
            }

            body.dark .social-media a {
                @apply text-dark-text;
            }

            .social-media a:hover {
                @apply text-light-primary transform -translate-y-1;
            }

            body.dark .social-media a:hover {
                @apply text-dark-primary;
            }

            .copyright {
                @apply mt-5 text-sm opacity-70;
            }

            /* Adjustment for fixed header */
            .section-padding-top {
                padding-top: 80px; /* Adjust based on header height */
            }

            @media (min-width: 768px) {
                .section-padding-top {
                    padding-top: 90px; /* Adjust for potentially taller header on desktop */
                }
            }
            /* --- Estilos Específicos del Carrito (cart.html) --- */
            /* (Mantener si no se consolidan en style.css) */
             .cart-section-title {
                @apply text-2xl font-bold mb-6 text-light-primary dark:text-dark-primary;
            }

            .cart-table {
                @apply w-full table-auto border-collapse;
            }

            .cart-table th,
            .cart-table td {
                @apply border-b border-gray-200 dark:border-gray-700 px-4 py-3 text-left;
            }

            .cart-table th {
                @apply font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-dark-bg-alt;
            }

             .cart-table tbody tr:hover {
                @apply bg-gray-50 dark:bg-dark-card-bg;
            }

            .cart-item-details {
                @apply flex items-center;
            }

            .cart-item-details img {
                @apply w-16 h-16 object-cover rounded mr-4;
            }

            .cart-total {
                @apply font-semibold text-lg text-gray-900 dark:text-white;
            }

            .cart-price,
            .cart-item-total {
                 @apply font-semibold;
            }

            .cart-subtotal,
            .cart-shipping {
                 @apply text-gray-700 dark:text-gray-300;
            }


            .cart-buttons {
                @apply mt-8 flex flex-col sm:flex-row justify-end space-y-4 sm:space-y-0 sm:space-x-4;
            }

            .cart-buttons a,
            .cart-buttons button {
                @apply block text-center py-3 px-6 rounded-md font-semibold transition-all duration-300 ease-in-out;
            }

            .btn-checkout {
                 @apply bg-green-600 text-white hover:bg-green-700 dark:bg-green-700 dark:hover:bg-green-600;
            }

            .btn-update-cart {
                 @apply bg-blue-500 text-white hover:bg-blue-600 dark:bg-blue-600 dark:hover:bg-blue-500;
            }

            .empty-cart-message {
                @apply text-center text-xl text-gray-600 dark:text-gray-400 py-12;
            }

            .continue-shopping-link {
                 @apply inline-block mt-6 text-light-primary dark:text-dark-primary hover:underline font-semibold;
            }

            .shipping-calculator {
                @apply mt-8 p-6 bg-light-bg-alt dark:bg-dark-bg-alt rounded-lg shadow-inner;
            }

            .shipping-calculator label {
                @apply block mb-3 font-semibold text-gray-700 dark:text-gray-300;
            }

            .shipping-calculator input[type="text"] {
                @apply px-3 py-2 border rounded-md mr-2 dark:bg-dark-card-bg dark:border-gray-600 text-light-text dark:text-dark-text;
            }

             .shipping-calculator button {
                 @apply bg-light-secondary text-white py-2 px-4 rounded-md font-semibold hover:bg-light-primary dark:hover:bg-dark-primary;
             }

             .shipping-calculator .estimated-shipping {
                 @apply mt-3 font-semibold text-gray-900 dark:text-white;
             }

             .checkout-steps {
                @apply flex justify-center space-x-2 sm:space-x-4 mb-12 text-gray-500 dark:text-gray-400 text-sm sm:text-base;
            }

            .checkout-steps .step {
                @apply flex flex-col sm:flex-row items-center text-center sm:text-left;
            }

            .checkout-steps .step .number {
                @apply w-8 h-8 flex justify-center items-center border-2 border-gray-500 dark:border-gray-400 rounded-full mr-0 sm:mr-2 mb-1 sm:mb-0 font-bold;
            }

             .checkout-steps .step.active {
                 @apply text-light-primary dark:text-dark-primary font-semibold;
             }

             .checkout-steps .step.active .number {
                 @apply border-light-primary text-light-primary dark:border-dark-primary dark:text-dark-primary bg-light-primary/10 dark:bg-dark-primary/10;
             }

             .checkout-steps .step:not(:last-child):after {
                 content: '';
                 @apply block w-8 h-px bg-gray-400 dark:bg-gray-600 ml-2 sm:ml-4 mt-2 sm:mt-0;
             }

            #cart-summary {
                @apply mt-8 p-6 bg-light-card-bg dark:bg-dark-card-bg rounded-lg shadow-lg max-w-sm ml-auto;
            }

            #cart-summary .cart-section-title {
                 @apply !text-xl !mb-4;
            }


            /* --- Estilos Específicos de Productos/Categorías (products.html, gorras.html, etc.) --- */

            /* Category Navigation on Products page */
            #category-nav {
                @apply mb-12 text-center;
            }

            #category-nav h3 {
                @apply text-2xl font-bold mb-4 text-light-primary dark:text-dark-primary;
            }

            #category-nav ul {
                @apply flex flex-wrap justify-center gap-4;
            }

            #category-nav li {
                @apply inline-block;
            }

            #category-nav a {
                @apply inline-block bg-light-bg-alt dark:bg-dark-bg-alt text-light-text dark:text-dark-text py-2 px-6 rounded-full font-semibold transition-colors duration-300 ease-in-out hover:bg-light-primary hover:text-white dark:hover:bg-dark-primary dark:hover:text-dark-text;
            }

            /* Style to hide the full product list initially */
            #full-product-list {
                display: none; /* Hide this div by default */
            }

            /* --- Estilos Específicos de Mi Cuenta (account.html) --- */
            /* (Ya definidos arriba en esta misma etiqueta style) */
             .account-section-title {
                 @apply text-2xl font-bold mb-6 text-light-primary dark:text-dark-primary;
            }

            .account-card {
                @apply bg-light-card-bg rounded-lg p-6 shadow-md mb-6 dark:bg-dark-card-bg;
            }

            .account-form label {
                @apply block mb-2 font-semibold text-gray-700 dark:text-gray-300;
            }

            .account-form input[type="text"],
            .account-form input[type="email"],
            .account-form input[type="password"] {
                @apply w-full px-4 py-2 rounded-md border border-gray-300 dark:border-gray-600 dark:bg-dark-bg-alt text-light-text dark:text-dark-text focus:ring focus:ring-light-primary dark:focus:ring-dark-primary mb-4;
            }

            .account-form button {
                @apply bg-light-primary text-white py-2 px-4 rounded-md hover:bg-light-secondary dark:bg-dark-primary dark:hover:bg-dark-secondary font-semibold transition-colors duration-300 ease-in-out;
            }

            .order-table {
                @apply w-full table-auto border-collapse;
            }

            .order-table th,
            .order-table td {
                @apply border-b border-gray-200 dark:border-gray-700 px-4 py-3 text-left;
            }

            .order-table th {
                @apply font-semibold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-dark-bg-alt;
            }

             .order-table tbody tr:hover {
                 @apply bg-gray-50 dark:bg-dark-card-bg;
             }

            /* Estilos para los enlaces de acción dentro de la tabla de pedidos */
            .order-table td a {
                @apply text-light-primary dark:text-dark-primary hover:underline;
            }

            /* Estilo para el botón de eliminar cuenta */
            #settings .bg-red-500 {
               @apply hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-600 font-semibold;
            }

            /* Estilo para el botón de cerrar sesión */
            #logout .bg-blue-500 {
               @apply hover:bg-blue-700 dark:bg-blue-600 dark:hover:bg-blue-500 font-semibold;
            }


        } /* Cierre de @layer components */
    </style>
</head>

<body class="font-sans">

    <header id="main-header" class="py-3 md:py-4">
        <div class="container mx-auto px-4 flex flex-wrap justify-between items-center">
            <h1 id="logo">
                <a href="index.html#inicio">
                    <img src="Logosublimarce.jpg" alt="Logo Sublimarce"
                        style="max-height: 50px; border-radius: 50%; filter: hue-rotate(210deg);">
                </a>
            </h1>
            <button id="mobileMenuButton"
                class="md:hidden p-2 rounded-md text-light-text dark:text-dark-text focus:outline-none focus:ring-2 focus:ring-inset focus:ring-light-primary dark:focus:ring-dark-primary">
                <svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>
            <nav id="mainNav"
                class="w-full md:w-auto hidden md:flex flex-col md:flex-row md:items-center mt-4 md:mt-0 space-y-2 md:space-y-0 md:space-x-2">
                <ul class="flex flex-col md:flex-row items-center">
                    <li><a href="index.html#inicio" class="block md:inline-block">Inicio</a></li>
                    <li><a href="products.html" class="block md:inline-block active">Productos</a></li> <li><a href="index.html#nosotros" class="block md:inline-block">Nosotros</a></li>
                    <li><a href="index.html#como-pedir" class="block md:inline-block">¿Cómo Pedir?</a></li>
                    <li><a href="index.html#contacto" class="block md:inline-block">Contacto</a></li>
                    </ul>
                <button id="darkModeToggle" aria-label="Toggle Dark Mode" class="ml-0 md:ml-4 mt-2 md:mt-0">
                    <i class="fas fa-moon"></i>
                    <i class="fas fa-sun" style="display:none;"></i>
                </button>
            </nav>
        </div>
    </header>

    <main class="section-padding-top">
        <section id="all-products-overview" class="py-12 md:py-20 bg-light-bg dark:bg-dark-bg text-center">
             <div class="container mx-auto px-4">
                <h2 class="section-title">Nuestro Catálogo</h2>

                <div id="category-nav">
                    <h3>Explora por Categoría:</h3>
                    <ul>
                        <li><a href="gorras.html">Gorras</a></li>
                        <li><a href="llaveros.html">Llaveros</a></li>
                        <li><a href="remeras.html">Remeras</a></li>
                        <li><a href="tazas.html">Tazas</a></li>
                    </ul>
                </div>

                <div id="full-product-list">
                     <div class="text-left mt-10">
                        <h3 class="section-subtitle">Gorras</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                            <div class="product-card">
                                <img src="gorranegra.webp" alt="Gorra Negra Trucker">
                                <h3>Gorra Negra Trucker</h3>
                                <p>Estilo clásico trucker con malla trasera. Ideal para personalizar con tu logo o diseño.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="gorra roja.jpeg" alt="Gorra Frente Blanco/Roja">
                                <h3>Gorra Frente Blanco/Roja</h3>
                                <p>Combinación popular con frente blanco para destacar tu diseño.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/e0e0e0/FF0000?text=Gorra+Frente+Rojo" alt="Gorra Frente Rojo">
                                <h3>Gorra Frente Rojo</h3>
                                <p>Un color vibrante para un estilo audaz y llamativo.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/e0e0e0/FFFF00&text=Gorra+Frente+Amarillo" alt="Gorra Frente Amarillo">
                                <h3>Gorra Frente Amarillo</h3>
                                <p>Perfecta para diseños creativos que buscan resaltar.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            </div>
                    </div>

                    <div class="text-left mt-10">
                        <h3 class="section-subtitle">Llaveros</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/cccccc/333333?text=Llavero+Personalizado" alt="Llavero Exclusivo">
                                <h3>Llaveros Acrílicos/Metálicos</h3>
                                <p>Llaveros duraderos con tu diseño o logo. Ideales para merchandising o regalos.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/DEB887/000000?text=Llavero+Madera" alt="Llavero de madera personalizado">
                                <h3>Llavero de Madera</h3>
                                <p>Detalle rústico y original, grabado con tu diseño.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            </div>
                    </div>

                    <div class="text-left mt-10">
                        <h3 class="section-subtitle">Remeras</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                            <div class="product-card">
                                <img src="https://placehold.co/FF0000/FFFFFF?text=Remera+Roja" alt="Remera Roja">
                                <h3>Remera Roja</h3>
                                <p>Remera de algodón color rojo, perfecta para diseños que contrasten.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/FFFFFF/000000?text=Remera+Blanca" alt="Remera Blanca">
                                <h3>Remera Blanca</h3>
                                <p>El clásico lienzo para sublimar cualquier diseño a todo color.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/000000/FFFFFF?text=Remera+Negra" alt="Remera Negra">
                                <h3>Remera Negra</h3>
                                <p>Elegante y moderna, ideal para diseños en colores claros.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/FFFF00/000000?text=Remera+Amarilla" alt="Remera Amarilla">
                                <h3>Remera Amarilla</h3>
                                <p>Color vibrante que aporta energía a tus estampados.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            </div>
                    </div>

                    <div class="text-left mt-10">
                        <h3 class="section-subtitle">Tazas</h3>
                        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                            <div class="product-card">
                                <img src="https://placehold.co/300200/cccccc/333333?text=Taza+Personalizada" alt="Taza Genérica">
                                <h3>Taza de Cerámica Estándar</h3>
                                <p>Taza de cerámica blanca de alta calidad lista para tu diseño.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/FFFFFF/000000?text=Taza+Blanca" alt="Taza Blanca">
                                <h3>Taza Blanca</h3>
                                <p>La taza clásica y versátil para cualquier ocasión y diseño.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/000000/FFFFFF?text=Taza+Negra" alt="Taza Negra">
                                <h3>Taza Negra</h3>
                                <p>Un toque elegante, ideal para diseños en colores claros.</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            <div class="product-card">
                                <img src="https://placehold.co/300x200/4ECDC4/FFFFFF?text=Taza+Mágica" alt="Taza Mágica">
                                <h3>Taza Mágica</h3>
                                <p>Revela tu diseño al añadir líquido caliente. ¡Sorprende!</p>
                                <a href="index.html#contacto" class="btn-consultar">Consultar</a>
                            </div>
                            </div>
                    </div>
                </div>
             </div>
        </section>
    </main>

    <footer>
        <div class="container mx-auto px-4">
            <h2 class="section-title">Hablemos de Tu Proyecto</h2>
            <div class="contact-info text-lg">
                <p class="mb-3"><i class="fab fa-whatsapp"></i> <a href="https://wa.me/5491133223802"
                        target="_blank">+54 9 11 3322-3802</a></p>
                <p class="mb-3"><i class="fas fa-phone"></i> <a href="tel:+541133223802">(+54) 11 3322-3802</a></p>
                <p class="mb-6"><i class="fas fa-envelope"></i> <a
                        href="mailto:sublimarce@gmail.com">sublimarce@gmail.com</a></p>
            </div>
            <div class="social-media my-8">
                <a href="https://instagram.com/sublimarce.arg" target="_blank" aria-label="Instagram"><i
                        class="fab fa-instagram"></i></a>
                <a href="https://www.facebook.com/people/Sublimarcearg/100088128799547/#" target="_blank"
                    aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
            </div>
            <p class="copyright">© <span id="currentYearFooter"></span> Sublimarce | Todos los derechos reservados.</p>
             </div>
    </footer>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const darkModeToggle = document.getElementById('darkModeToggle');
            const body = document.body;
            const moonIcon = darkModeToggle.querySelector('.fa-moon');
            const sunIcon = darkModeToggle.querySelector('.fa-sun');
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mainNav = document.getElementById('mainNav');
            const headerHeight = document.getElementById('main-header').offsetHeight; // Get header height


            // Function to enable/disable dark mode
            function setDarkMode(isDark) {
                if (isDark) {
                    body.classList.add('dark');
                    moonIcon.style.display = 'none';
                    sunIcon.style.display = 'inline-block';
                } else {
                    body.classList.remove('dark');
                    moonIcon.style.display = 'inline-block';
                    sunIcon.style.display = 'none';
                }
                localStorage.setItem('darkMode', isDark ? 'enabled' : 'disabled');
            }

            // Check saved preference or system preference
            const savedMode = localStorage.getItem('darkMode');
            const prefersDarkScheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedMode === 'enabled') {
                setDarkMode(true);
            } else if (savedMode === 'disabled') {
                setDarkMode(false);
            } else {
                setDarkMode(prefersDarkScheme);
            }

            darkModeToggle.addEventListener('click', () => {
                setDarkMode(!body.classList.contains('dark'));
            });

            // Toggle for mobile menu
            mobileMenuButton.addEventListener('click', () => {
                mainNav.classList.toggle('hidden');
            });

            // Close mobile menu when clicking a link
            mainNav.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth < 768) { // Tailwind's md breakpoint
                        mainNav.classList.add('hidden');
                    }
                });
            });

            // Update year in copyright
            const currentYearFooterSpan = document.getElementById('currentYearFooter');
            if (currentYearFooterSpan) {
                currentYearFooterSpan.textContent = new Date().getFullYear();
            }

             // Smooth scroll for internal links (if any, though most are external to index.html sections)
            const internalLinks = document.querySelectorAll('a[href^="#"]');
             // Assuming headerHeight is defined or obtained

            internalLinks.forEach(link => {
                link.addEventListener('click', function (e) {
                    const targetId = this.getAttribute('href');
                    if (targetId && targetId !== '#') {
                        e.preventDefault();
                        const targetElement = document.querySelector(targetId);
                         if (targetElement) {
                            // Ensure headerHeight is available or calculate it here if needed
                            const currentHeaderHeight = document.getElementById('main-header') ? document.getElementById('main-header').offsetHeight : 0;
                            const elementPosition = targetElement.getBoundingClientRect().top;
                            const offsetPosition = elementPosition + window.pageYOffset - currentHeaderHeight;

                            window.scrollTo({
                                top: offsetPosition,
                                behavior: 'smooth'
                            });
                        }
                    }
                });
            });

            // Highlight active link in nav (basic logic for the current page)
            const currentPage = "products.html"; // Set the filename for this page
             mainNav.querySelectorAll('a').forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        });
    </script>
</body>

</html>
